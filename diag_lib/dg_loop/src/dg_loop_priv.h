#ifndef _DG_LOOP_PRIV_H_
#define _DG_LOOP_PRIV_H_
/*==================================================================================================

    Module Name:  dg_loop_priv.h

    General Description: This file provides dg_loop internal common utility

====================================================================================================

====================================================================================================
                                           INCLUDE FILES
==================================================================================================*/

/** @addtogroup libdg_loop
@{
*/
#ifdef __cplusplus
extern "C" {
#endif

/*==================================================================================================
                                              MACROS
==================================================================================================*/
#define DG_LOOP_MUTEX_LOCK(x) \
    pthread_cleanup_push(dg_loop_mutex_unlock, (x)); \
    pthread_mutex_lock(x)

#define DG_LOOP_MUTEX_UNLOCK(x) \
    pthread_mutex_unlock(x); \
    pthread_cleanup_pop(0)

/*==================================================================================================
                                               ENUMS
==================================================================================================*/

/*==================================================================================================
                                   STRUCTURES AND OTHER TYPEDEFS
==================================================================================================*/
typedef void (* DG_LOOP_MUTEX_UNLOCK_FUN_T) (void*);

/*==================================================================================================
                                   GLOBAL VARIABLE DECLARATIONS
==================================================================================================*/
extern DG_LOOP_MUTEX_UNLOCK_FUN_T dg_loop_mutex_unlock;

/*==================================================================================================
                                        FUNCTION PROTOTYPES
==================================================================================================*/
extern DG_LOOP_PORT_T dg_loop_index_to_port(int index);

#ifdef __cplusplus
}
#endif

/** @} */
#endif /* _DG_LOOP_PRIV_H_ */

