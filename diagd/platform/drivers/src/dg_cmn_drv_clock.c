/*==================================================================================================

    Module Name:  dg_cmn_drv_clock.c

    General Description: Implements the CLOCK common driver

====================================================================================================

====================================================================================================
                                           INCLUDE FILES
==================================================================================================*/
#include "dg_handler_inc.h"
#include "dg_drv_util.h"
#include "dg_cmn_drv_clock.h"


/** @addtogroup dg_common_drivers
@{
*/

/** @addtogroup CLOCK_driver
@{
implementation of the CLOCK driver
*/

/*==================================================================================================
                                          LOCAL CONSTANTS
==================================================================================================*/

/*==================================================================================================
                                           LOCAL MACROS
==================================================================================================*/
#define DG_CMN_DRV_CLOCK_REG_MAX 9

/*==================================================================================================
                            LOCAL TYPEDEFS (STRUCTURES, UNIONS, ENUMS)
==================================================================================================*/

/*==================================================================================================
                                     LOCAL FUNCTION PROTOTYPES
==================================================================================================*/

/*==================================================================================================
                                         GLOBAL VARIABLES
==================================================================================================*/

/*==================================================================================================
                                          LOCAL VARIABLES
==================================================================================================*/
static DG_CMN_DRV_CLOCK_DATA_T dg_cmn_drv_clock_data[DG_CMN_DRV_CLOCK_REG_MAX + 1] = { 0 };

/*==================================================================================================
                                         GLOBAL FUNCTIONS
==================================================================================================*/

/*=============================================================================================*//**
@brief Read clock register

@param[in]  reg  - clock chip selection
@param[out] data - The clock register data

*//*==============================================================================================*/
BOOL DG_CMN_DRV_CLOCK_get(DG_CMN_DRV_CLOCK_REG_T reg, DG_CMN_DRV_CLOCK_DATA_T* data)
{
    BOOL ret = FALSE;

    if (reg > DG_CMN_DRV_CLOCK_REG_MAX)
    {
        DG_DRV_UTIL_set_error_string("Invalid clock register=%d", reg);
    }
    else
    {
        *data = dg_cmn_drv_clock_data[reg];

        DG_DBG_TRACE("CLOCK register %d got value: %d", reg, *data);

        ret = TRUE;
    }

    return ret;
}

/*=============================================================================================*//**
@brief Set clock register

@param[in] reg  - clock chip selection
@param[in] data - The clock register data

*//*==============================================================================================*/
BOOL DG_CMN_DRV_CLOCK_set(DG_CMN_DRV_CLOCK_REG_T reg, DG_CMN_DRV_CLOCK_DATA_T data)
{
    BOOL ret = FALSE;

    if (reg > DG_CMN_DRV_CLOCK_REG_MAX)
    {
        DG_DRV_UTIL_set_error_string("Invalid clock register=%d", reg);
    }
    else
    {
        dg_cmn_drv_clock_data[reg] = data;

        DG_DBG_TRACE("CLOCK register %d set value: %d", reg, data);

        ret = TRUE;
    }

    return ret;
}

/*==================================================================================================
                                          LOCAL FUNCTIONS
==================================================================================================*/

/** @} */
/** @} */

